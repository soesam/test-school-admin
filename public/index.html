<!--<script src="/script.js" defer></script> -->


<html>
  <head>
    <meta name="viewport" value="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/style.css">
    <script src="/__/firebase/7.15.5/firebase-app.js" defer></script>
    <script src="/__/firebase/init.js" defer></script>

    <style>
      body {
        background: #333;
      }
      h1 {
        font-family: sans-serif;
        color: #8e7aff;
        font-size: 20px;
        padding-left: 50px;
        font-weight: light;
      }
    </style>

    <!-- add airtable -->
    <script src='/modules/airtable.browser.js'></script>
  </head>
  <body>
    <h1>welcome to school admin</h1>
    <div class="Year_7">
        <ul>
        </ul>
    </div>
    <!-- our script -->
    <script>
        var Airtable = require('airtable');
        var base = new Airtable({apiKey: 'keyLVnvjV4bFHXOaD'}).base('appvLWxrF80mDK8Xq');

        base('Year 7').select({
            // Selecting the first 3 records in Grid view:
            maxRecords: 3,
            view: "Grid view"
        }).eachPage(function page(records, fetchNextPage) {
            // This function (`page`) will get called for each page of records.

            records.forEach(function(record) {
                console.log('Retrieved', record.get('Student first name'));
                let year7 = document.querySelector(".Year_7 ul")
                year7.innerHTML += `<li>${record.get('Student first name')}</li>`
            });

            // To fetch the next page of records, call `fetchNextPage`.
            // If there are more records, `page` will get called again.
            // If there are no more records, `done` will get called.
            fetchNextPage();

        }, function done(err) {
            if (err) { console.error(err); return; }
        });
    </script>
  </body>
</html>
